#!/usr/bin/env php
<?php

use ZnCore\App\Libs\ZnCore;
use ZnCore\Container\Libs\Container;

$_SERVER['MICRO_TIME'] = microtime(true);

require __DIR__ . '/../../../../../../../../autoload.php';

/**
 * Инициализация ядра.
 *
 * Инициализируются/конфигурируются компоненты:
 * - DotEnv
 * - контейнер
 *   - EventDispatcher
 *   - ConfigManager
 *   - ContainerConfigurator
 * - загрузчик бандлов
 */
$container = new Container();
$znCore = new ZnCore($container);
$znCore->init();

use Symfony\Component\Console\Application;
use ZnSandbox\Sandbox\WebTest\Commands\RequestReceiverCommand;

$application = new Application();
$application->add(new RequestReceiverCommand());
$application->run();
